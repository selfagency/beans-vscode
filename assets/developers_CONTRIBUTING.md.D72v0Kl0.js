import{_ as s,o as i,c as t,ae as a}from"./chunks/framework.D6oixKf0.js";const g=JSON.parse('{"title":"Contributing to beans-vscode","description":"","frontmatter":{"title":"Contributing to beans-vscode"},"headers":[],"relativePath":"developers/CONTRIBUTING.md","filePath":"developers/CONTRIBUTING.md"}'),n={name:"developers/CONTRIBUTING.md"};function o(l,e,r,d,h,c){return i(),t("div",null,[...e[0]||(e[0]=[a(`<p>Welcome! We&#39;re excited that you want to contribute to <code>beans-vscode</code>. This document provides guidance on how to contribute effectively and our core engineering practices.</p><h2 id="core-developer-principles" tabindex="-1">Core Developer Principles <a class="header-anchor" href="#core-developer-principles" aria-label="Permalink to &quot;Core Developer Principles&quot;">â€‹</a></h2><p>We follow these principles to ensure high code quality, security, and maintainability:</p><ol><li><strong>TDD-First</strong>: We never write production code before writing a failing test.</li><li><strong>Security by Default</strong>: We always prioritize security; no hardcoded secrets, no shell string interpolation.</li><li><strong>Accessibility Always</strong>: All UI changes must follow WCAG 2.2 Level AA guidelines.</li><li><strong>Clean Code</strong>: We use descriptive naming, avoid <code>any</code> types, and keep modules focused.</li><li><strong>Conventional Commits</strong>: We use a structured commit message format to automate changelogs.</li></ol><hr><h2 id="the-tdd-workflow-red-green-refactor" tabindex="-1">The TDD Workflow (Red-Green-Refactor) <a class="header-anchor" href="#the-tdd-workflow-red-green-refactor" aria-label="Permalink to &quot;The TDD Workflow (Red-Green-Refactor)&quot;">â€‹</a></h2><p>All new features and bug fixes must start with a failing test. No exceptions.</p><ol><li><strong>ðŸ”´ Red</strong>: Write a failing test in <code>src/test/</code> that describes the desired behavior. <ul><li>Run <code>pnpm test</code> to confirm it fails specifically due to the missing implementation.</li></ul></li><li><strong>ðŸŸ¢ Green</strong>: Write the <em>minimal</em> amount of production code in <code>src/</code> to make the test pass. <ul><li>Run <code>pnpm test</code> to confirm it passes.</li></ul></li><li><strong>ðŸ”„ Refactor</strong>: Improve the code (structure, naming, performance) while keeping the tests green.</li></ol><p><strong>Example</strong>: If adding a new validation to <code>BeansService</code>, first add a test case to <code>src/test/beans/service/BeansService.test.ts</code> that asserts the validation error, confirm failure, then implement the logic.</p><hr><h2 id="working-with-beans-issue-tracking" tabindex="-1">Working with Beans (Issue Tracking) <a class="header-anchor" href="#working-with-beans-issue-tracking" aria-label="Permalink to &quot;Working with Beans (Issue Tracking)&quot;">â€‹</a></h2><p>We use Beans (this extension!) to track all work in this repository.</p><ol><li><strong>Find or Create a Bean</strong>: Before starting work, find an existing bean or create a new one. <ul><li>Set status to <code>in-progress</code> when you begin.</li></ul></li><li><strong>Track with Todo</strong>: Add a <code>## Todo</code> checklist to the bean body and check items off as you go.</li><li><strong>Sync often</strong>: Commit your bean updates frequently to track progress.</li><li><strong>Closing a Bean</strong>: <ul><li>For completion: Add a <code>## Summary of Changes</code> and set status to <code>completed</code>.</li><li>For scrapping: Add a <code>## Reasons for Scrapping</code> and set status to <code>scrapped</code>.</li></ul></li></ol><p><strong>Note</strong>: In this repository, beans are located in the <code>.beans/</code> directory.</p><hr><h2 id="branch-naming-commits" tabindex="-1">Branch Naming &amp; Commits <a class="header-anchor" href="#branch-naming-commits" aria-label="Permalink to &quot;Branch Naming &amp; Commits&quot;">â€‹</a></h2><h3 id="branch-naming" tabindex="-1">Branch Naming <a class="header-anchor" href="#branch-naming" aria-label="Permalink to &quot;Branch Naming&quot;">â€‹</a></h3><ul><li><strong>Features</strong>: <code>feature/&lt;bean-id&gt;-&lt;slug&gt;</code> or <code>feat/&lt;ticket&gt;-&lt;slug&gt;</code></li><li><strong>Fixes</strong>: <code>fix/&lt;bean-id&gt;-&lt;slug&gt;</code> or <code>fix/&lt;ticket&gt;-&lt;slug&gt;</code></li><li><strong>Docs/Chore</strong>: <code>docs/&lt;slug&gt;</code> or <code>chore/&lt;slug&gt;</code></li></ul><p><em>Example</em>: <code>feature/beans-vscode-li45-developer-docs</code></p><hr><h2 id="local-development-setup" tabindex="-1">Local Development Setup <a class="header-anchor" href="#local-development-setup" aria-label="Permalink to &quot;Local Development Setup&quot;">â€‹</a></h2><h3 id="prerequisites-pnpm" tabindex="-1">Prerequisites: Pnpm <a class="header-anchor" href="#prerequisites-pnpm" aria-label="Permalink to &quot;Prerequisites: Pnpm&quot;">â€‹</a></h3><p>This project uses <code>pnpm</code> as the package manager. Install it via <code>npm install -g pnpm</code>.</p><h3 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div><h3 id="build-and-watch" tabindex="-1">Build and Watch <a class="header-anchor" href="#build-and-watch" aria-label="Permalink to &quot;Build and Watch&quot;">â€‹</a></h3><p>We use <code>esbuild</code> for bundling and <code>tsc</code> for type-checking.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compile</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # Single-shot build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> watch</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         # Watch for both esbuild and tsc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> watch:esbuild</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # Watch only (fast reload)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> watch:tsc</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # Type-check only</span></span></code></pre></div><h3 id="testing" tabindex="-1">Testing <a class="header-anchor" href="#testing" aria-label="Permalink to &quot;Testing&quot;">â€‹</a></h3><p>We use <strong>Vitest</strong> for unit tests and mocked integration suites, and <code>vscode-test</code> for extension-host integration tests.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                 # Run all Vitest suites (unit + mocked integration in src/test/**/*.test.ts)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:watch</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # Watch mode for Vitest tests</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:integration</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # Run real extension-host integration tests via vscode-test (VS Code Test Electron/CLI)</span></span></code></pre></div><p><strong>Markdown Templates in Tests</strong>: Our tests can import <code>.md</code> files as strings (used for Copilot templates). This is achieved via a custom <code>mdTextPlugin</code> in <code>vitest.config.ts</code>, which mirrors the <code>esbuild.js</code> loader configuration.</p><hr><h2 id="debugging-the-extension" tabindex="-1">Debugging the Extension <a class="header-anchor" href="#debugging-the-extension" aria-label="Permalink to &quot;Debugging the Extension&quot;">â€‹</a></h2><ol><li>Open the project in VS Code.</li><li>Go to the <strong>Run and Debug</strong> view (<code>Ctrl+Shift+D</code>).</li><li>Select <strong>Extension Development Host</strong>.</li><li>Press <code>F5</code>. This opens a new VS Code window with your developmental version of the extension loaded.</li></ol><hr><h2 id="running-the-mcp-server-locally" tabindex="-1">Running the MCP Server Locally <a class="header-anchor" href="#running-the-mcp-server-locally" aria-label="Permalink to &quot;Running the MCP Server Locally&quot;">â€‹</a></h2><p>The Beans MCP server can be run as a standalone process for debugging:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># First, ensure the project is compiled</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compile</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run the server manually</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./dist/beans-mcp-server.js</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --workspace</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cli-path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> beans</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 39173</span></span></code></pre></div><hr><h2 id="pull-request-checklist" tabindex="-1">Pull Request Checklist <a class="header-anchor" href="#pull-request-checklist" aria-label="Permalink to &quot;Pull Request Checklist&quot;">â€‹</a></h2><p>Before submitting your PR, ensure:</p><ul><li>[ ] You have a corresponding Bean tracked in <code>.beans/</code></li><li>[ ] You are on a branch following the naming convention</li><li>[ ] <code>pnpm run compile</code> and <code>pnpm run lint</code> pass without errors</li><li>[ ] All tests pass (<code>pnpm test</code>)</li><li>[ ] New functionality has test coverage (TDD-first)</li><li>[ ] Accessibility (WCAG 2.2 Level AA) has been considered for UI changes</li><li>[ ] Documentation (<code>README.md</code>, <code>CONTRIBUTING.md</code>, <code>docs/*.md</code>) is updated if needed</li><li>[ ] Commit messages follow Conventional Commits</li></ul><p>If your PR introduces a breaking change, please include <code>BREAKING CHANGE:</code> in the commit footer.</p>`,44)])])}const u=s(n,[["render",o]]);export{g as __pageData,u as default};
