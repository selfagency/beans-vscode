<EXTREMELY_IMPORTANT>

# Beans Task Management Rules

- Always use **Beans** for task tracking (never TodoWrite or ad-hoc todo lists).
- Before starting work, find an existing bean; if none exists, create one and set it to in-progress.
- Keep bean body/checklist current while implementing.
- When completing a bean, add a **## Summary of Changes** section, then set status to completed.
- When scrapping a bean, add a **## Reasons for Scrapping** section, then set status to scrapped.
- Include both code changes and related bean files in commits.

</EXTREMELY_IMPORTANT>

# Beans Usage Guide for Agents (Extension-First)

This file is generated by the Beans VS Code extension and defines the preferred execution model.

## Interface priority (highest → lowest)

1. **Beans VS Code extension commands/UI**
2. **Beans chat participant (`@beans`) and slash commands**
3. **Beans MCP tools**
4. **Beans CLI** (fallback only)

## Generated artifact context

When AI features are enabled, the extension maintains:

- `.github/instructions/tasks.instructions.md`
- `.github/skills/beans/SKILL.md`

Use these as authoritative guidance for Beans workflows in this repository.

## Core Beans workflow

1. Find or create the relevant bean before starting work.
2. Keep bean body/checklist current while implementing.
3. On completion, add a `## Summary of Changes` section and mark status completed.
4. Include both code changes and bean files in commits.

## Extension commands (preferred)

- `beans.view`, `beans.create`, `beans.edit`
- `beans.setStatus`, `beans.setType`, `beans.setPriority`
- `beans.setParent`, `beans.removeParent`, `beans.editBlocking`
- `beans.search`, `beans.filter`, `beans.sort`, `beans.refresh`
- `beans.copyId`, `beans.delete` (allowed statuses only)

## Chat workflows (`@beans`)

- `/summary` — status overview
- `/priority` — top-priority active issues
- `/stale` — stale issues by age
- `/create` — issue creation guidance
- `/search` — issue search
- `/commit` — issue-related commit guidance

## MCP workflow

1. Read/context first (for example `beans_vscode_llm_context`, view/search/filter/sort).
2. Mutate only with explicit intent (create/edit/set/delete).
3. For destructive actions, require explicit confirmation unless the user already requested it.

## Planning mode for epic decomposition

When planning an epic:

1. Confirm goal, constraints, and definition of done.
2. Propose a child-issue map grouped by outcomes.
3. For each child issue, include title, type, priority, and dependencies.
4. Ask for approval before creating issues.
5. Create approved child issues and link them with parent relationships.
6. Return created IDs and suggest the first issue to start.

Use compact planning checklist format:

- [ ] `<title>` — type=`<type>`, priority=`<priority>`, depends_on=`<ids|none>`

## CLI fallback (only when extension/chat/MCP are unavailable)

- `beans list --json --ready`
- `beans show --json <id> [id...]`
- `beans create --json ...`
- `beans update --json ...`
- `beans archive` (only when explicitly requested)

## Beans CLI baseline (from `beans prime`)

```text
{{PRIME_OUTPUT}}
```
