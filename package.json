{
  "name": "beans-vscode",
  "displayName": "Beans",
  "description": "VS Code extension for Beans issue tracker with tree views, commands, MCP tools, GitHub Copilot integration, and remote development support",
  "version": "1.0.6",
  "publisher": "selfagency",
  "author": {
    "name": "Daniel Sieradski",
    "email": "daniel@self.agency",
    "url": "https://self.agency"
  },
  "license": "MIT",
  "icon": "assets/icon.png",
  "repository": {
    "type": "git",
    "url": "https://github.com/selfagency/beans-vscode.git"
  },
  "bugs": {
    "url": "https://github.com/selfagency/beans-vscode/issues"
  },
  "homepage": "https://github.com/selfagency/beans-vscode#readme",
  "keywords": [
    "beans",
    "issue tracker",
    "task management",
    "project management",
    "copilot",
    "mcp",
    "ai",
    "remote development",
    "git-native"
  ],
  "engines": {
    "vscode": "^1.109.0"
  },
  "categories": [
    "Other",
    "AI"
  ],
  "extensionKind": [
    "workspace"
  ],
  "activationEvents": [
    "onStartupFinished",
    "workspaceContains:.beans",
    "workspaceContains:.beans.yml",
    "onChatParticipant:beans.chat"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "beans.init",
        "title": "Initialize Beans in Workspace",
        "category": "Beans"
      },
      {
        "command": "beans.refresh",
        "title": "Refresh",
        "category": "Beans",
        "icon": "$(refresh)"
      },
      {
        "command": "beans.openConfig",
        "title": "Open Configuration",
        "category": "Beans"
      },
      {
        "command": "beans.openUserGuide",
        "title": "Open User Guide",
        "category": "Beans",
        "icon": "$(info)"
      },
      {
        "command": "beans.openAiFeaturesGuide",
        "title": "Open AI Features Guide",
        "category": "Beans",
        "icon": "$(sparkle)"
      },
      {
        "command": "beans.showOutput",
        "title": "Show Output",
        "category": "Beans",
        "icon": "$(terminal)"
      },
      {
        "command": "beans.view",
        "title": "View Bean",
        "category": "Beans",
        "when": "beans.initialized"
      },
      {
        "command": "beans.create",
        "title": "Create Bean",
        "category": "Beans",
        "icon": "$(add)",
        "when": "beans.initialized"
      },
      {
        "command": "beans.edit",
        "title": "Edit Bean",
        "category": "Beans",
        "icon": "$(edit)",
        "when": "beans.initialized"
      },
      {
        "command": "beans.details.back",
        "title": "Back to Previous Bean",
        "category": "Beans",
        "icon": "$(arrow-left)",
        "when": "beans.initialized"
      },
      {
        "command": "beans.copilotStartWork",
        "title": "Copilot: Start Work on Bean",
        "category": "Beans",
        "icon": "$(comment-discussion)",
        "when": "beans.initialized"
      },
      {
        "command": "beans.setStatus",
        "title": "Set Status",
        "category": "Beans",
        "when": "beans.initialized"
      },
      {
        "command": "beans.reopenCompleted",
        "title": "Reopen Completed Bean",
        "category": "Beans",
        "when": "beans.initialized"
      },
      {
        "command": "beans.reopenScrapped",
        "title": "Reopen Scrapped Bean",
        "category": "Beans",
        "when": "beans.initialized"
      },
      {
        "command": "beans.setType",
        "title": "Set Type",
        "category": "Beans",
        "when": "beans.initialized"
      },
      {
        "command": "beans.setPriority",
        "title": "Set Priority",
        "category": "Beans",
        "when": "beans.initialized"
      },
      {
        "command": "beans.setParent",
        "title": "Set Parent",
        "category": "Beans",
        "when": "beans.initialized"
      },
      {
        "command": "beans.removeParent",
        "title": "Remove Parent",
        "category": "Beans",
        "when": "beans.initialized"
      },
      {
        "command": "beans.editBlocking",
        "title": "Edit Blocking Relationships",
        "category": "Beans",
        "when": "beans.initialized"
      },
      {
        "command": "beans.copyId",
        "title": "Copy Bean ID",
        "category": "Beans",
        "when": "beans.initialized"
      },
      {
        "command": "beans.delete",
        "title": "Delete Bean",
        "category": "Beans",
        "icon": "$(trash)",
        "when": "beans.initialized"
      },
      {
        "command": "beans.filter",
        "title": "Filter Beans",
        "category": "Beans",
        "icon": "$(filter)",
        "when": "beans.initialized"
      },
      {
        "command": "beans.search",
        "title": "Search Beans",
        "category": "Beans",
        "icon": "$(search)",
        "when": "beans.initialized"
      },
      {
        "command": "beans.searchView.filter",
        "title": "Filter Search Results",
        "category": "Beans",
        "icon": "$(filter)",
        "when": "beans.initialized"
      },
      {
        "command": "beans.searchView.clear",
        "title": "Clear Search Filters",
        "category": "Beans",
        "icon": "$(circle-slash)",
        "when": "beans.initialized"
      },
      {
        "command": "beans.sort",
        "title": "Change Sort Mode",
        "category": "Beans",
        "icon": "$(list-ordered)",
        "when": "beans.initialized"
      },
      {
        "command": "beans.mcp.refreshDefinitions",
        "title": "MCP: Refresh Server Definitions",
        "category": "Beans"
      },
      {
        "command": "beans.mcp.showServerInfo",
        "title": "MCP: Show Server Info",
        "category": "Beans"
      },
      {
        "command": "beans.mcp.openConfig",
        "title": "MCP: Open MCP Settings",
        "category": "Beans"
      },
      {
        "command": "beans.mcp.openLogs",
        "title": "MCP: Open Logs",
        "category": "Beans"
      }
    ],
    "mcpServerDefinitionProviders": [
      {
        "id": "beans.mcpServers",
        "label": "Beans MCP Servers"
      }
    ],
    "chatParticipants": [
      {
        "id": "beans.chat",
        "name": "beans",
        "fullName": "Beans Assistant",
        "description": "Help with Beans issue workflows in this workspace",
        "isSticky": true,
        "commands": [
          {
            "name": "summary",
            "description": "Summarize Beans status in this workspace"
          },
          {
            "name": "priority",
            "description": "Show top-priority issues in this workspace"
          },
          {
            "name": "stale",
            "description": "List stale issues that need attention"
          },
          {
            "name": "create",
            "description": "Guide creating a new issue"
          },
          {
            "name": "next",
            "description": "Suggest the next bean to work on"
          },
          {
            "name": "search",
            "description": "Search beans by text"
          },
          {
            "name": "commit",
            "description": "Guide an issue-related commit for current workspace"
          }
        ]
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "beans",
          "title": "Beans",
          "icon": "assets/icon.svg"
        }
      ]
    },
    "views": {
      "beans": [
        {
          "icon": "$(issue-draft)",
          "id": "beans.draft",
          "name": "Drafts",
          "when": "beans.initialized",
          "visibility": "visible"
        },
        {
          "icon": "$(issue-opened)",
          "id": "beans.active",
          "name": "Open Beans",
          "when": "beans.initialized",
          "visibility": "visible"
        },
        {
          "icon": "$(issue-closed)",
          "id": "beans.completed",
          "name": "Completed",
          "when": "beans.initialized",
          "visibility": "visible"
        },
        {
          "icon": "$(search)",
          "id": "beans.search",
          "name": "Search",
          "when": "beans.initialized",
          "visibility": "visible"
        },
        {
          "icon": "$(info)",
          "type": "webview",
          "id": "beans.details",
          "name": "Details",
          "when": "beans.initialized",
          "visibility": "visible"
        },
        {
          "icon": "$(question)",
          "type": "webview",
          "id": "beans.help",
          "name": "Help",
          "when": "beans.initialized",
          "visibility": "visible"
        }
      ]
    },
    "menus": {
      "view/title": [
        {
          "command": "beans.search",
          "when": "view == beans.search && beans.initialized",
          "group": "navigation@1"
        },
        {
          "command": "beans.searchView.filter",
          "when": "view == beans.search && beans.initialized",
          "group": "navigation@2",
          "icon": "$(filter)"
        },
        {
          "command": "beans.searchView.clear",
          "when": "view == beans.search && beans.initialized",
          "group": "navigation@3",
          "icon": "$(circle-slash)"
        },
        {
          "command": "beans.create",
          "when": "view == beans.draft && beans.initialized",
          "group": "navigation@1"
        },
        {
          "command": "beans.refresh",
          "when": "view == beans.active && beans.initialized",
          "group": "navigation@2"
        },
        {
          "command": "beans.showOutput",
          "when": "view == beans.help && beans.initialized",
          "group": "navigation@1"
        },
        {
          "command": "beans.openUserGuide",
          "when": "view == beans.help && beans.initialized",
          "group": "navigation@2"
        },
        {
          "command": "beans.details.back",
          "when": "view == beans.details && beans.hasSelectedBean && beans.detailsCanGoBack",
          "group": "navigation@1"
        },
        {
          "command": "beans.edit",
          "when": "view == beans.details && beans.hasSelectedBean",
          "group": "navigation@2"
        },
        {
          "command": "beans.copilotStartWork",
          "when": "view == beans.details && beans.hasSelectedBean && beans.aiEnabled",
          "group": "navigation@3"
        }
      ],
      "view/item/context": [
        {
          "command": "beans.view",
          "when": "view =~ /^beans\\./ && viewItem =~ /^bean/",
          "group": "1_view"
        },
        {
          "command": "beans.edit",
          "when": "view =~ /^beans\\./ && viewItem =~ /^bean/",
          "group": "1_view"
        },
        {
          "command": "beans.setStatus",
          "when": "view =~ /^beans\\./ && viewItem =~ /^bean/",
          "group": "2_modify@1"
        },
        {
          "command": "beans.setType",
          "when": "view =~ /^beans\\./ && viewItem =~ /^bean/",
          "group": "2_modify@2"
        },
        {
          "command": "beans.setPriority",
          "when": "view =~ /^beans\\./ && viewItem =~ /^bean/",
          "group": "2_modify@3"
        },
        {
          "command": "beans.setParent",
          "when": "view =~ /^beans\\./ && viewItem =~ /^bean/",
          "group": "3_relationships@1"
        },
        {
          "command": "beans.removeParent",
          "when": "view =~ /^beans\\./ && viewItem =~ /^bean/ && viewItem =~ /hasParent/",
          "group": "3_relationships@2"
        },
        {
          "command": "beans.editBlocking",
          "when": "view =~ /^beans\\./ && viewItem =~ /^bean/",
          "group": "3_relationships@3"
        },
        {
          "command": "beans.copyId",
          "when": "view =~ /^beans\\./ && viewItem =~ /^bean/",
          "group": "4_util@1"
        },
        {
          "command": "beans.delete",
          "when": "view =~ /^beans\\./ && viewItem =~ /deletable/",
          "group": "5_danger"
        }
      ],
      "webview/context": [
        {
          "command": "beans.view",
          "when": "webviewId == 'beans.search' && webviewSection == 'searchResult'",
          "group": "1_view"
        },
        {
          "command": "beans.edit",
          "when": "webviewId == 'beans.search' && webviewSection == 'searchResult'",
          "group": "1_view"
        },
        {
          "command": "beans.setStatus",
          "when": "webviewId == 'beans.search' && webviewSection == 'searchResult'",
          "group": "2_modify@1"
        },
        {
          "command": "beans.setType",
          "when": "webviewId == 'beans.search' && webviewSection == 'searchResult'",
          "group": "2_modify@2"
        },
        {
          "command": "beans.setPriority",
          "when": "webviewId == 'beans.search' && webviewSection == 'searchResult'",
          "group": "2_modify@3"
        },
        {
          "command": "beans.setParent",
          "when": "webviewId == 'beans.search' && webviewSection == 'searchResult'",
          "group": "3_relationships@1"
        },
        {
          "command": "beans.editBlocking",
          "when": "webviewId == 'beans.search' && webviewSection == 'searchResult'",
          "group": "3_relationships@3"
        },
        {
          "command": "beans.copyId",
          "when": "webviewId == 'beans.search' && webviewSection == 'searchResult'",
          "group": "4_util@1"
        },
        {
          "command": "beans.delete",
          "when": "webviewId == 'beans.search' && webviewSection == 'searchResult'",
          "group": "5_danger"
        }
      ]
    },
    "configuration": {
      "title": "Beans",
      "properties": {
        "beans.cliPath": {
          "type": "string",
          "default": "beans",
          "markdownDescription": "Path to the `beans` CLI executable. Defaults to `beans` in PATH."
        },
        "beans.workspaceRoot": {
          "type": "string",
          "default": "",
          "markdownDescription": "Path to Beans workspace folder (containing `.beans` directory). If empty, uses the current workspace root."
        },
        "beans.enableOnlyIfInitialized": {
          "type": "boolean",
          "default": false,
          "description": "Only enable the extension if a .beans.yml file is present in the workspace."
        },
        "beans.view.displayMode": {
          "type": "string",
          "enum": [
            "separate-panes",
            "single-pane"
          ],
          "default": "separate-panes",
          "enumDescriptions": [
            "Show beans in separate panes by status (Active, Completed, Draft, Scrapped)",
            "Show all beans in a single unified tree with filter controls (coming soon)"
          ],
          "description": "Choose how beans are displayed in the sidebar. Requires extension reload to take effect."
        },
        "beans.autoInit.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Show initialization prompt when opening a workspace without Beans."
        },
        "beans.defaultSortMode": {
          "type": "string",
          "enum": [
            "status-priority-type-title",
            "priority-status-type-title",
            "updated",
            "created",
            "id"
          ],
          "default": "status-priority-type-title",
          "enumDescriptions": [
            "Sort by status, then priority, then type, then title (TUI default)",
            "Sort by priority, then status, then type, then title (better for active pane)",
            "Sort by last updated time",
            "Sort by creation time",
            "Sort by bean ID/code"
          ]
        },
        "beans.hideClosedInQuickPick": {
          "type": "boolean",
          "default": true,
          "description": "Hide completed and scrapped beans from command palette quick picks (except explicit reopen commands)."
        },
        "beans.logging.level": {
          "type": "string",
          "enum": [
            "debug",
            "info",
            "warn",
            "error"
          ],
          "default": "info",
          "description": "Logging verbosity for Beans extension output channel."
        },
        "beans.ai.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Master switch for AI features (MCP server provider and chat participant integrations)."
        },
        "beans.fileWatcher.debounceMs": {
          "type": "number",
          "default": 20000,
          "minimum": 1000,
          "maximum": 120000,
          "markdownDescription": "Debounce interval (ms) for the file system watcher. Prevents excessive refreshes when many files change. Default: 20000 ms (20 seconds)."
        },
        "beans.mcp.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable the dynamic MCP server definition provider for Beans commands (effective only when AI is enabled)."
        },
        "beans.mcp.port": {
          "type": "number",
          "default": 39173,
          "minimum": 1024,
          "maximum": 65535,
          "markdownDescription": "Port value propagated to the Beans MCP server process for host/tooling compatibility. Current transport is stdio; this setting is reserved for integrations that also read port metadata."
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "pnpm run package",
    "compile": "pnpm run check-types && pnpm run lint && node esbuild.js",
    "watch": "npm-run-all -p watch:*",
    "watch:esbuild": "node esbuild.js --watch",
    "watch:tsc": "tsc --noEmit --watch --project tsconfig.json",
    "package": "pnpm run check-types && pnpm run lint && node esbuild.js --production",
    "compile-tests": "tsc -p . --outDir out",
    "watch-tests": "tsc -p . -w --outDir out",
    "pretest": "pnpm run compile-tests && pnpm run compile && pnpm run lint",
    "check-types": "tsc --noEmit",
    "lint": "eslint src",
    "lint:fix": "eslint src --fix",
    "format": "prettier --write \"src/**/*.ts\"",
    "test": "vitest run",
    "test:watch": "vitest",
    "test:integration": "vscode-test",
    "release": "node ./scripts/release.js",
    "prepare": "husky"
  },
  "lint-staged": {
    "src/**/*.ts": [
      "eslint --fix",
      "prettier --write"
    ]
  },
  "devDependencies": {
    "@types/js-yaml": "^4.0.9",
    "@types/mocha": "^10.0.10",
    "@types/node": "25.x",
    "@types/vscode": "^1.109.0",
    "@vitest/coverage-v8": "^4.0.18",
    "@vscode/test-cli": "^0.0.12",
    "@vscode/test-electron": "^2.5.2",
    "esbuild": "^0.27.3",
    "eslint": "10.0.0",
    "husky": "^9.1.7",
    "lint-staged": "^16.2.7",
    "npm-run-all": "^4.1.5",
    "prettier": "^3.8.1",
    "typescript": "^5.9.3",
    "typescript-eslint": "^8.56.0",
    "vitest": "^4.0.18"
  },
  "dependencies": {
    "@modelcontextprotocol/sdk": "^1.26.0",
    "@vscode/codicons": "^0.0.44",
    "js-yaml": "^4.1.1",
    "zod": "^4.3.6"
  }
}